<div class="space-y-4" [formGroup]="formGroup">
  <mat-form-field appearance="fill" class="w-full">
    <mat-label>Bio</mat-label>
    <textarea matInput formControlName="bio" required></textarea>
    <mat-error *ngIf="formGroup.get('bio')?.hasError('required')">
      Bio is required.
    </mat-error>
  </mat-form-field>
  <div>
    <input
      type="file"
      (change)="fileSelected($event)"
      required
      class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
    />
    <mat-error *ngIf="formGroup.get('image')?.hasError('required')">
      Image is required.
    </mat-error>
    <mat-error *ngIf="formGroup.get('image')?.hasError('notImage')">
      Please select a valid image file.
    </mat-error>
    <mat-error *ngIf="formGroup.get('image')?.hasError('forbiddenFileType')">
      Forbidden file type. Only images are allowed.
    </mat-error>
  </div>
  <div *ngIf="imageSrc" class="mt-4">
    <p class="text-sm font-semibold">Image Preview:</p>
    <img [src]="imageSrc" alt="Image preview" class="max-w-xs border rounded" />
  </div>
  <div class="flex justify-between mt-4">
    <button
      mat-button
      matStepperPrevious
      class="bg-gray-500 text-white px-4 py-2 rounded"
    >
      Back
    </button>
    <button
      *ngIf="isFreelancer"
      mat-button
      matStepperNext
      class="bg-green-500 text-white px-4 py-2 rounded"
      [disabled]="formGroup.invalid"
    >
      Next
    </button>
  </div>
</div>
